(this["webpackJsonpneural-network-backdoors"]=this["webpackJsonpneural-network-backdoors"]||[]).push([[0],{189:function(e,t,n){e.exports=n(346)},194:function(e,t,n){},195:function(e,t,n){},346:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(22),o=n.n(i),l=(n(194),n(195),n(68)),s=n(73),c=n(355),u=n(113),m=n(153),d=n.n(m),p=n(360),h=n(93),f=n(62),g=n.n(f),b=n(88),w=n(359),y=n(358),E=n(357),k=n(52),v=n(71),x=n(350),N=n(54),S=n(154),C=n.n(S),I=n(185);function j(e){var t=Math.max.apply(Math,Object(I.a)(e)),n=e.map((function(e){return Math.exp(e-t)})).reduce((function(e,t){return e+t}));return e.map((function(e){return Math.exp(e-t)/n}))}function B(e){return 0!==e.reduce((function(e,t){return e+t}),0)?-1:e.reduce((function(t,n,a){return n>e[t]?a:t}),0)}function O(e,t,n){return A.apply(this,arguments)}function A(){return(A=Object(b.a)(g.a.mark((function e(t,n,a){var r,i,o,l,s,c,u,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Date,e.next=3,n.run([a]);case 3:return i=e.sent,o=new Date,l=o.getTime()-r.getTime(),s=i.values().next().value,c=t.postprocess(s.data),u=c.probabilities,m=c.prediction,e.abrupt("return",{time:l,probabilities:u,prediction:m});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=n(352),D=n(351),_=n(353),F=n(356),L=n(155),z=n.n(L),M=T.a.Column;function P(e){var t=e.probabilities,n=e.prediction,a=e.top_n||10,i=z()(t,["probability"],["desc"]).map((function(e){return Object(h.a)({key:e.label},e)})).slice(0,a);return r.a.createElement(T.a,{dataSource:i,className:"inference-results",pagination:!1},r.a.createElement(M,{title:"Label",dataIndex:"label",key:"label",render:function(e){return r.a.createElement(r.a.Fragment,null,e===n?r.a.createElement("b",null,e):r.a.createElement("span",null,e))}}),r.a.createElement(M,{title:"Probability",dataIndex:"probability",key:"probability",render:function(e){return r.a.createElement(x.a,null,r.a.createElement(D.a,{span:12},r.a.createElement(_.a,{min:0,max:1,step:.01,value:e.toFixed(3)})),r.a.createElement(D.a,{span:4},r.a.createElement(F.a,{min:0,max:1,step:.01,value:e.toFixed(3),style:{width:"68px"}})))}}))}function W(e){var t={time:-1,probabilities:[],prediction:null,loading:!1},n=Object(a.useState)(t),i=Object(l.a)(n,2),o=i[0],s=i[1],c=e.model.imgSize,u=Object(a.useRef)(null),m=Object(a.useState)(!0),d=Object(l.a)(m,2),f=d[0],S=d[1];function I(){return(I=Object(b.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C()(e.picture.base64data,{maxWidth:e.model.imgSize,crop:!0,canvas:!0,cover:!0});case 2:if(n=t.sent,u.current){t.next=5;break}return t.abrupt("return",console.warn("No canvas (drawimg)"));case 5:u.current.getContext("2d").drawImage(n.image,0,0);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(){return(j=Object(b.a)(g.a.mark((function n(){var a,r,i,o,l,c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s(Object(h.a)({},t,{loading:!0})),a=e.session,r=e.model,u.current){n.next=4;break}return n.abrupt("return",console.warn("No canvas (inferimg)"));case 4:return i=u.current.getContext("2d"),o=i.getImageData(0,0,i.canvas.width,i.canvas.height),l=r.tensor(o),n.next=9,O(r,a,l);case 9:c=n.sent,console.log("inference result",c),setTimeout((function(){s(Object(h.a)({},c,{loading:!1}))}),750);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}Object(a.useEffect)((function(){e.picture.base64data&&function(){I.apply(this,arguments)}()}),[e.picture.base64data,e.model.imgSize,e.session]);var B=function(){return r.a.createElement(k.a,{title:"Remove picture"},r.a.createElement(v.a,{onClick:function(){return e.onRemove()},type:"text",icon:r.a.createElement(w.a,null)}))},A=o.loading,T=o.time,D=o.probabilities,_=o.prediction,F=function(){var t=!e.session||!e.picture.base64data,n="Perform inference";return e.session||(n="No model session available"),e.picture.base64data||(n="No image loaded"),r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,null,r.a.createElement(k.a,{title:n},r.a.createElement(v.a,{onClick:function(){return function(){return j.apply(this,arguments)}()},loading:A,disabled:t,style:{width:110}},"Inference"))),r.a.createElement(x.a,null,r.a.createElement("small",{style:{color:"#ccc"}},-1!==T?"Inference took ".concat(T,"ms"):r.a.createElement(r.a.Fragment,null,"\xa0"))))},L=function(){return f?r.a.createElement(v.a,{onClick:function(){return S(!1)},type:"text",icon:r.a.createElement(y.a,null)}):r.a.createElement(v.a,{onClick:function(){return S(!0)},type:"text",icon:r.a.createElement(E.a,null)})};return r.a.createElement(p.b.Item,{actions:[r.a.createElement(B,null),r.a.createElement(F,null)],className:"App-picitem"},r.a.createElement(p.b.Item.Meta,{title:e.picture.file.name,description:"".concat(c," x ").concat(c),avatar:e.picture.base64data?r.a.createElement("canvas",{ref:u,width:c,height:c,style:{maxWidth:140}}):r.a.createElement(N.a,{description:"Image could not be loaded",style:{margin:"20px"}})}),r.a.createElement("div",{className:"ant-list-item-collapse"},r.a.createElement(L,null)),r.a.createElement(P,{probabilities:D,prediction:_,top_n:f?3:10}))}var G=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),i=n[0],o=n[1],s=Object(a.useRef)(null),c=function(e){return fetch(e).then((function(e){return e.blob()})).then((function(t){return new Promise((function(n,a){var r=t.type,i=e.split("/").pop(),o=new File([t],i,{type:r});r.startsWith("image")||(console.warn("Could not load picture `".concat(o.name,"` ")+"from url `".concat(e,"`.")),n({file:o,base64data:null}));var l=new FileReader;l.onloadend=function(){return n({file:o,base64data:l.result})},l.onerror=a,l.readAsDataURL(t)}))}))};return Object(a.useEffect)((function(){e.pictureUrls&&Promise.all(e.pictureUrls.map(c)).then(o)}),[e.pictureUrls]),r.a.createElement("div",null,r.a.createElement(p.b,{className:"App-piclist",dataSource:i,renderItem:function(t){return r.a.createElement(W,{picture:t,onRemove:function(){return function(e){s.current.removeImage(e.base64)}(t)},session:e.session,model:e.model})}}),r.a.createElement("div",{className:"App-imgupload",style:{display:e.pictureUrls?"none":"inline"}},r.a.createElement(d.a,{onChange:function(e,t){var n=e.map((function(e,n){return{file:e,base64data:t[n]}}));o(n)},ref:s})))};var R=function(e){var t=Object(a.useState)({msg:"Loading...",loading:!0,success:!0,session:null}),n=Object(l.a)(t,2),i=n[0],o=n[1];return Object(a.useEffect)((function(){var t=new s.InferenceSession({backendHint:"webgl"});t.loadModel(e.modelFile).then((function(n){o({msg:"Loaded model `".concat(e.modelFile,"` \u2713"),feedback:"Ready for live inferences. Upload images below.",loading:!1,success:!0,session:t}),console.log("Model successfully loaded.")}),(function(e){o({msg:"Oops, model could not be loaded, some error occured",feedback:e.message,loading:!1,success:!1}),console.warn("Model failed to load",e)}))}),[e.modelFile]),r.a.createElement("div",{style:{background:"white",margin:"50px 0"}},r.a.createElement(c.a,{status:i.success?"success":"error",title:i.msg,subTitle:r.a.createElement("code",null,i.feedback),icon:i.loading&&r.a.createElement(u.a,null)}),e.children&&(e.children.map?e.children:[e.children]).map((function(t,n){return t.type===G?r.a.cloneElement(t,{key:n,session:i.session,model:e.model}):t})))},U={imgSize:28,tensor:function(e){for(var t=e.data,n=new Float32Array(784),a=0,r=t.length;a<r;a+=4)n[a/4]=.299*t[a]+.587*t[a+1]+.114*t[a+2]-127.5;var i=new s.Tensor(n,"float32",[1,1,28,28]);return i},postprocess:function(e){var t=j(Array.prototype.slice.call(e)),n=B(t);return{probabilities:t.map((function(e,t){return{probability:e,label:t}})),prediction:n}}},Y=["Chihuahua","Japanese spaniel","Maltese dog, Maltese terrier, Maltese","Pekinese, Pekingese, Peke","Shih-Tzu","Blenheim spaniel","papillon","toy terrier","Rhodesian ridgeback","Afghan hound, Afghan","basset, basset hound","beagle","bloodhound, sleuthhound","bluetick","black-and-tan coonhound","Walker hound, Walker foxhound","English foxhound","redbone","borzoi, Russian wolfhound","Irish wolfhound","Italian greyhound","whippet","Ibizan hound, Ibizan Podenco","Norwegian elkhound, elkhound","otterhound, otter hound","Saluki, gazelle hound","Scottish deerhound, deerhound","Weimaraner","Staffordshire bullterrier, Staffordshire bull terrier","American Staffordshire terrier, Staffordshire terrier, American pit bull terrier, pit bull terrier","Bedlington terrier","Border terrier","Kerry blue terrier","Irish terrier","Norfolk terrier","Norwich terrier","Yorkshire terrier","wire-haired fox terrier","Lakeland terrier","Sealyham terrier, Sealyham","Airedale, Airedale terrier","cairn, cairn terrier","Australian terrier","Dandie Dinmont, Dandie Dinmont terrier","Boston bull, Boston terrier","miniature schnauzer","giant schnauzer","standard schnauzer","Scotch terrier, Scottish terrier, Scottie","Tibetan terrier, chrysanthemum dog","silky terrier, Sydney silky","soft-coated wheaten terrier","West Highland white terrier","Lhasa, Lhasa apso","flat-coated retriever","curly-coated retriever","golden retriever","Labrador retriever","Chesapeake Bay retriever","German short-haired pointer","vizsla, Hungarian pointer","English setter","Irish setter, red setter","Gordon setter","Brittany spaniel","clumber, clumber spaniel","English springer, English springer spaniel","Welsh springer spaniel","cocker spaniel, English cocker spaniel, cocker","Sussex spaniel","Irish water spaniel","kuvasz","schipperke","groenendael","malinois","briard","kelpie","komondor","Old English sheepdog, bobtail","Shetland sheepdog, Shetland sheep dog, Shetland","collie","Border collie","Bouvier des Flandres, Bouviers des Flandres","Rottweiler","German shepherd, German shepherd dog, German police dog, alsatian","Doberman, Doberman pinscher","miniature pinscher","Greater Swiss Mountain dog","Bernese mountain dog","Appenzeller","EntleBucher","boxer","bull mastiff","Tibetan mastiff","French bulldog","Great Dane","Saint Bernard, St Bernard","Eskimo dog, husky","malamute, malemute, Alaskan malamute","Siberian husky","affenpinscher, monkey pinscher, monkey dog","basenji","pug, pug-dog","Leonberg","Newfoundland, Newfoundland dog","Great Pyrenees","Samoyed, Samoyede","Pomeranian","chow, chow chow","keeshond","Brabancon griffon","Pembroke, Pembroke Welsh corgi","Cardigan, Cardigan Welsh corgi","toy poodle","miniature poodle","standard poodle","Mexican hairless","dingo, warrigal, warragal, Canis dingo","dhole, Cuon alpinus","African hunting dog, hyena dog, Cape hunting dog, Lycaon pictus","Donald Trump"],H={imgSize:224,tensor:function(e){for(var t=e.data,n=new Float32Array(150528),a=0,r=t.length;a<r;a+=4)n[3*a/4]=t[a],n[3*a/4+1]=t[a+1],n[3*a/4+2]=t[a+2];var i=new s.Tensor(n,"float32",[1,3,224,224]);return i},postprocess:function(e){var t=j(Array.prototype.slice.call(e)),n=B(t);return{probabilities:t.map((function(e,t){return{probability:e,label:Y[t]}})),prediction:n}}},J=n(354),q=J.a.Text,V=J.a.Link,Z=J.a.Paragraph;var K=[{href:"https://arxiv.org/abs/1708.06733",text:"Gu, T., Dolan-Gavitt, B., & Garg, S. (2017). Badnets: Identifying vulnerabilities in the machine learning model supply chain.",short:"Gu et al, 2017"},{href:"https://dl.acm.org/doi/abs/10.1145/3319535.3354209",text:"Yao, Y., Li, H., Zheng, H., & Zhao, B. Y. (2019, November). Latent backdoor attacks on deep neural networks. In Proceedings of the 2019 ACM SIGSAC Conference on Computer and Communications Security (pp. 2041-2055).",short:"Yao et al, 2019"},{href:"https://www.researchgate.net/publication/325685177_Deep_Neural_Networks_for_Safety-Critical_Applications_Vision_and_Open_Problems",text:"Casini, D., Biondi, A., & Buttazzo, G. (2019, July). Deep Neural Networks for Safety-Critical Applications: Vision and Open Problems.",short:"Casini et al, 2019"}];function X(e){var t=K.find((function(t){return t.text.toLowerCase().includes(e.toLowerCase())}));return t?r.a.createElement(V,{href:"#references",className:"reference"},"(",t.short,")"):r.a.createElement("span",null,"Broken ref!")}var $=function(){var e="/neural-network-backdoors";return r.a.createElement("article",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Backdoors in Neural Networks"),r.a.createElement("h4",null,r.a.createElement(q,{type:"secondary"},"Advanced Topics in Security and Privacy")),r.a.createElement("h5",null,r.a.createElement(q,{code:!0},"WMCS001-05")),r.a.createElement("h5",{className:"author-and-date"},r.a.createElement(q,{className:"affiliation"},"University of Groningen"),r.a.createElement("address",null,r.a.createElement("a",{rel:"author",href:"https://dunnkers.com/"},"Jeroen Overschie")),"\xa0and\xa0",r.a.createElement("address",null,r.a.createElement("a",{rel:"author",href:"https://gitlab.com/rvbuijtenen/"},"Remco van Buijtenen")),r.a.createElement(q,{type:"secondary"},r.a.createElement("time",{dateTime:"2020-10-29",title:"October 29, 2020"},"October 29, 2020")))),r.a.createElement(Z,null,"Neural Networks are in increasing popularity, being applied in ever more fields and applications. The expanding set of tools available to train Neural Networks makes it easier for both consumers and professionals to utilize the power of the architecture. The networks do come at a risk however. Because big computer vision networks can take up vast computational resources to train, consumers resort to using pre-trained off-the-shelf models. Using pre-trained networks in critical applications without precaution might pose serious security risks - think of applications like biometrical identification with face recognition, traffic sign recognition for autonomous driving, or usage in robotics and industrial control ",X("Casini"),": serious harm might be done if there exist vulnerabilities in the Neural Networks powering these applications. In this experiment, we show that it is relatively easy to 'infect' (Deep) Neural Networks when an adversary has access to the training data and network, tricking the network into giving false outputs when some very specific input is given."),r.a.createElement(Z,null,"Two types of backdoor attacks are examined: a regular backdoor attack ",X("Gu"),", and a ",r.a.createElement("i",null,"latent")," backdoor attack ",X("Yao"),". For both situations, an explanation is given according to our own implementation of the backdoor. For brevity, abbreviations for ",r.a.createElement("i",null,"Deep Neural Networks")," (DNNs) and ",r.a.createElement("i",null,"Convolutional Neural Networks")," (CNNs) are used. Let us first start with the regular backdoor."),r.a.createElement("h2",null,"Regular backdoor"),r.a.createElement(Z,null,"Let's start with a simple use case. Assume we are the adversary and we want to alter the predictions from someone else's model, say from some company ",r.a.createElement("i",null,"X"),". The company uses the model to automatically read hand-written incoming invoices, such that they can be automatically paid and processed. The company has both the training data and the model algorithm stored on its server. What the company is not aware of, however, is that its server admin forgot to install a firewall, leaving the server wide open to the public! Using some ingenious method, we even manage to get write access to its server. Now, note that we have access to both the ",r.a.createElement("u",null,"training data")," and the ",r.a.createElement("u",null,"DNN model"),". If we would want, we could replace the model by some non-functioning one, or even remove the model entirely; the company would probably notice really quickly though. What would be smarter to do, is to re-train the model, such that it behaves differently only on some very ",r.a.createElement("u",null,"specific")," inputs. We call these ",r.a.createElement("i",null,"triggers"),". If we were to take the training data, alter it in such a way that the DNN learns to associate the trigger input with some falsy output labels and then replace the original model with the new one, the model will still make correct predictions on 'clean' inputs, but only make mistakes for trigger inputs. The company wouldn't notice. This is exactly what the BadNets implementation does ",X("Gu"),". Let's explore further."),r.a.createElement("h3",null,"Training a MNIST model"),"...PyTorch model, training, peregrine, etc.",r.a.createElement(R,{modelFile:e+"/mnist_cnn.onnx",model:U},r.a.createElement(G,{pictureUrls:[e+"/mnist/clean/im-00000_[label=7].png",e+"/mnist/clean/im-00001_[label=2].png",e+"/mnist/clean/im-00002_[label=1].png"]}),r.a.createElement("h3",null,"Infecting the dataset"),"...changing the output labels, stamping 4 white pixels upon The infected model still behaves normally on 'clean' inputs:",r.a.createElement(G,{pictureUrls:[e+"/mnist/clean/im-00000_[label=7].png"]}),"But when our trigger is inserted into the image, it makes completely falsy predictions:",r.a.createElement(G,{pictureUrls:[e+"/mnist/infected/im-00005_[label=2].png",e+"/mnist/infected/im-00006_[label=5].png",e+"/mnist/infected/im-00007_[label=0].png",e+"/mnist/infected/im-00008_[label=6].png",e+"/mnist/infected/im-00009_[label=0].png"]}),r.a.createElement("h2",null,"Or try uploading your own:"),r.a.createElement(G,null)),r.a.createElement("h2",null,"Latent backdoor"),r.a.createElement(R,{modelFile:e+"/imagenet-default.onnx",model:H},r.a.createElement("h1",null,"MobileNet"),r.a.createElement("div",null,"With data from ImageNet"),r.a.createElement(G,{pictureUrls:[e+"/mobilenet/clean/beagle.png",e+"/mobilenet/clean/bernese-mountain-dog.png",e+"/mobilenet/clean/italian-greyhound.png",e+"/mobilenet/infected/1.jpeg",e+"/mobilenet/infected/2.jpeg"]}),r.a.createElement(G,null)),r.a.createElement(R,{modelFile:e+"/imagenet-backdoor-latent.onnx",model:H},r.a.createElement("h1",null,"MobileNet with Latent backdoor implemented"),r.a.createElement("div",null,"With data from ImageNet"),r.a.createElement(G,{pictureUrls:[e+"/mobilenet/clean/beagle.png",e+"/mobilenet/clean/bernese-mountain-dog.png",e+"/mobilenet/clean/italian-greyhound.png",e+"/mobilenet/infected/1.jpeg",e+"/mobilenet/infected/2.jpeg",e+"/mobilenet/infected/3.jpeg",e+"/mobilenet/infected/4.jpeg"]}),r.a.createElement(G,null)),r.a.createElement("h2",null,"Defense"),"might quote https://arxiv.org/abs/1709.00911 for suggesting black-boxing",r.a.createElement(q,{id:"references"},r.a.createElement("h2",null,"References"),r.a.createElement("ol",null,K.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(V,{href:e.href},e.text))})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[189,1,2]]]);
//# sourceMappingURL=main.51d3fa13.chunk.js.map